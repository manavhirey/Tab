---
phase: 01-foundation
plan: 03
type: execute
wave: 3
depends_on: ["01-01"]
files_modified:
  - src/components/layout/header.tsx
  - src/components/layout/bottom-nav.tsx
  - src/app/(app)/layout.tsx
  - src/app/(app)/dashboard/page.tsx
autonomous: true

must_haves:
  truths:
    - "Header is fixed at top of viewport"
    - "Bottom navigation is fixed at bottom of viewport"
    - "Main content scrolls between header and nav"
    - "Navigation items are tappable and show active state"
    - "Layout works on mobile screen sizes"
  artifacts:
    - path: "src/components/layout/header.tsx"
      provides: "Fixed header component"
      min_lines: 10
    - path: "src/components/layout/bottom-nav.tsx"
      provides: "Fixed bottom navigation"
      min_lines: 30
      contains: "usePathname"
    - path: "src/app/(app)/layout.tsx"
      provides: "App layout with mobile shell"
      min_lines: 15
    - path: "src/app/(app)/dashboard/page.tsx"
      provides: "Dashboard placeholder page"
      min_lines: 10
  key_links:
    - from: "src/app/(app)/layout.tsx"
      to: "src/components/layout/header.tsx"
      via: "import"
      pattern: "import.*Header.*from"
    - from: "src/app/(app)/layout.tsx"
      to: "src/components/layout/bottom-nav.tsx"
      via: "import"
      pattern: "import.*BottomNav.*from"
    - from: "src/components/layout/bottom-nav.tsx"
      to: "next/navigation"
      via: "usePathname"
      pattern: "usePathname"
---

<objective>
Build mobile-first layout shell with fixed header and bottom navigation.

Purpose: Create the core mobile app structure that all authenticated pages will use.
Output: Header and bottom navigation components with proper fixed positioning and active states.
</objective>

<execution_context>
@/Users/manavhirey/.claude/get-shit-done/workflows/execute-plan.md
@/Users/manavhirey/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-RESEARCH.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Header component</name>
  <files>
    - src/components/layout/header.tsx
  </files>
  <action>
Create the layout components directory and Header component:

```bash
mkdir -p /Users/manavhirey/Documents/Code/Tab/src/components/layout
```

Create src/components/layout/header.tsx:

```tsx
export function Header() {
  return (
    <header className="sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
      <div className="flex h-14 items-center px-4">
        <span className="text-lg font-semibold">Tab</span>
      </div>
    </header>
  )
}
```

Key styling decisions:
- sticky top-0: Fixed at top while scrolling
- z-50: Above other content
- border-b: Subtle separator from content
- backdrop-blur: Modern glass effect
- h-14: 56px height (standard mobile header)
  </action>
  <verify>
```bash
cd /Users/manavhirey/Documents/Code/Tab
cat src/components/layout/header.tsx | grep "sticky top-0"
```
Header component exists with fixed positioning.
  </verify>
  <done>
Header component created with sticky positioning and app branding.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Bottom Navigation component</name>
  <files>
    - src/components/layout/bottom-nav.tsx
  </files>
  <action>
Create src/components/layout/bottom-nav.tsx:

```tsx
'use client'

import Link from 'next/link'
import { usePathname } from 'next/navigation'
import { Home, Users, CreditCard, BarChart3 } from 'lucide-react'
import { cn } from '@/lib/utils'

const navItems = [
  { href: '/dashboard', label: 'Home', icon: Home },
  { href: '/ious', label: 'IOUs', icon: Users },
  { href: '/subscriptions', label: 'Subs', icon: CreditCard },
  { href: '/analytics', label: 'Stats', icon: BarChart3 },
]

export function BottomNav() {
  const pathname = usePathname()

  return (
    <nav className="fixed bottom-0 left-0 right-0 z-50 border-t bg-background">
      <div className="flex h-16 items-center justify-around">
        {navItems.map((item) => {
          const isActive = pathname.startsWith(item.href)
          return (
            <Link
              key={item.href}
              href={item.href}
              className={cn(
                'flex flex-col items-center gap-1 px-3 py-2 text-xs transition-colors',
                isActive
                  ? 'text-primary'
                  : 'text-muted-foreground hover:text-foreground'
              )}
            >
              <item.icon className="size-5" />
              <span>{item.label}</span>
            </Link>
          )
        })}
      </div>
    </nav>
  )
}
```

Key implementation details:
- 'use client' directive: Required for usePathname hook
- fixed bottom-0: Anchored to bottom of viewport
- h-16: 64px height (standard mobile bottom nav)
- justify-around: Even spacing for 4 items
- isActive: Highlights current section based on pathname prefix
- cn() helper: Merges conditional classes properly
- size-5: 20px icons (lucide-react standard)
  </action>
  <verify>
```bash
cd /Users/manavhirey/Documents/Code/Tab
cat src/components/layout/bottom-nav.tsx | grep "'use client'"
cat src/components/layout/bottom-nav.tsx | grep "usePathname"
cat src/components/layout/bottom-nav.tsx | grep "fixed bottom-0"
```
Bottom nav is client component with pathname detection and fixed positioning.
  </verify>
  <done>
Bottom navigation created with 4 nav items, active state detection, and fixed positioning.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create app layout and dashboard placeholder</name>
  <files>
    - src/app/(app)/layout.tsx
    - src/app/(app)/dashboard/page.tsx
  </files>
  <action>
Create the (app) route group for authenticated pages:

```bash
mkdir -p /Users/manavhirey/Documents/Code/Tab/src/app/\(app\)/dashboard
```

Create src/app/(app)/layout.tsx:

```tsx
import { Header } from '@/components/layout/header'
import { BottomNav } from '@/components/layout/bottom-nav'

export default function AppLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <div className="flex min-h-screen flex-col">
      <Header />
      <main className="flex-1 overflow-auto pb-16">
        {children}
      </main>
      <BottomNav />
    </div>
  )
}
```

Key layout decisions:
- Route group (app): Groups authenticated routes without affecting URL
- min-h-screen: Full viewport height
- flex-col: Vertical stacking (header, content, nav)
- flex-1: Main content fills available space
- pb-16: Padding to prevent content hiding behind fixed bottom nav (64px)

Create src/app/(app)/dashboard/page.tsx:

```tsx
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'

export default function DashboardPage() {
  return (
    <div className="p-4 space-y-4">
      <h1 className="text-2xl font-bold">Dashboard</h1>

      <div className="grid gap-4">
        <Card>
          <CardHeader className="pb-2">
            <CardTitle className="text-sm font-medium text-muted-foreground">
              Monthly Burn Rate
            </CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">$0.00</div>
          </CardContent>
        </Card>

        <Card>
          <CardHeader className="pb-2">
            <CardTitle className="text-sm font-medium text-muted-foreground">
              IOU Balance
            </CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">$0.00</div>
          </CardContent>
        </Card>

        <Card>
          <CardHeader className="pb-2">
            <CardTitle className="text-sm font-medium text-muted-foreground">
              Active Subscriptions
            </CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">0</div>
          </CardContent>
        </Card>
      </div>

      <p className="text-sm text-muted-foreground text-center pt-4">
        Start by adding IOUs or subscriptions
      </p>
    </div>
  )
}
```

This provides a visual test of the mobile shell with real content.
  </action>
  <verify>
```bash
cd /Users/manavhirey/Documents/Code/Tab
cat "src/app/(app)/layout.tsx" | grep "Header"
cat "src/app/(app)/layout.tsx" | grep "BottomNav"
cat "src/app/(app)/layout.tsx" | grep "pb-16"
npm run build
```
Layout imports both components and has proper padding. Build succeeds.
  </verify>
  <done>
App layout shell created with header, bottom nav, and dashboard placeholder showing the 3 key numbers.
  </done>
</task>

</tasks>

<verification>
1. Header component renders at top with "Tab" text
2. Bottom navigation renders with 4 items (Home, IOUs, Subs, Stats)
3. Navigating to /dashboard shows the mobile shell layout
4. Dashboard tab is highlighted when on /dashboard
5. Content scrolls between header and bottom nav
6. `npm run build` succeeds
</verification>

<success_criteria>
- Header component created at src/components/layout/header.tsx
- BottomNav component created at src/components/layout/bottom-nav.tsx
- App layout created at src/app/(app)/layout.tsx using both components
- Dashboard placeholder page exists at src/app/(app)/dashboard/page.tsx
- Layout has proper padding (pb-16) to account for fixed bottom nav
- Navigation shows active state based on current route
- Build completes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-03-SUMMARY.md`
</output>
