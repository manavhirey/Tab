---
phase: 01-foundation
plan: 04
type: execute
wave: 4
depends_on: ["01-01", "01-02", "01-03"]
files_modified:
  - vercel.json
autonomous: false
user_setup:
  - service: vercel
    why: "Production hosting"
    env_vars:
      - name: NEXT_PUBLIC_SUPABASE_URL
        source: "Supabase Dashboard -> Project Settings -> API -> Project URL"
      - name: NEXT_PUBLIC_SUPABASE_ANON_KEY
        source: "Supabase Dashboard -> Project Settings -> API -> anon public key"
    dashboard_config:
      - task: "Connect GitHub repository to Vercel"
        location: "https://vercel.com/new -> Import Git Repository"

must_haves:
  truths:
    - "App is accessible at production URL"
    - "Mobile layout displays correctly in production"
    - "Environment variables are configured in Vercel"
  artifacts:
    - path: "vercel.json"
      provides: "Vercel configuration (if needed)"
  key_links:
    - from: "Vercel deployment"
      to: "GitHub repository"
      via: "Git integration"
      pattern: "automatic deploy on push"
---

<objective>
Deploy the Tab application to Vercel production environment.

Purpose: Make the app accessible at a public URL, establishing the deployment pipeline for future updates.
Output: Production URL where the mobile-first app is accessible.
</objective>

<execution_context>
@/Users/manavhirey/.claude/get-shit-done/workflows/execute-plan.md
@/Users/manavhirey/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
@.planning/phases/01-foundation/01-02-SUMMARY.md
@.planning/phases/01-foundation/01-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Prepare for deployment</name>
  <files>
    - .gitignore
  </files>
  <action>
Ensure all code is committed and pushed to GitHub:

1. Check git status:
```bash
cd /Users/manavhirey/Documents/Code/Tab
git status
```

2. If there are uncommitted changes, stage and commit:
```bash
git add -A
git commit -m "feat(foundation): complete Phase 1 foundation setup

- Next.js 16 with TypeScript and Tailwind v4
- shadcn/ui initialized with Button, Card, Input, Dialog
- Supabase client utilities (browser and server)
- Auth middleware for session refresh
- Mobile layout shell with header and bottom nav
- Dashboard placeholder page"
```

3. Check if remote origin exists:
```bash
git remote -v
```

4. If no remote, the user needs to create a GitHub repo and add it:
```bash
# User will run: gh repo create tab --private --source=. --push
# Or: git remote add origin https://github.com/USERNAME/tab.git && git push -u origin main
```

5. If remote exists, push:
```bash
git push origin main
```

Verify .gitignore includes:
- .env.local
- node_modules
- .next
  </action>
  <verify>
```bash
cd /Users/manavhirey/Documents/Code/Tab
git log -1 --oneline
git remote -v
```
Latest commit exists. Remote is configured (or instructions provided to user).
  </verify>
  <done>
Code committed and pushed to GitHub repository.
  </done>
</task>

<task type="auto">
  <name>Task 2: Deploy to Vercel via CLI</name>
  <files>
    - .vercel/project.json
  </files>
  <action>
Deploy using Vercel CLI:

1. Check if Vercel CLI is installed:
```bash
which vercel || npm install -g vercel
```

2. Link project to Vercel (will prompt for login if needed):
```bash
cd /Users/manavhirey/Documents/Code/Tab
vercel link
```

3. Set environment variables in Vercel:
```bash
# These will prompt for values - user enters from Supabase dashboard
vercel env add NEXT_PUBLIC_SUPABASE_URL production
vercel env add NEXT_PUBLIC_SUPABASE_ANON_KEY production
```

4. Deploy to production:
```bash
vercel --prod
```

If Vercel CLI auth fails, fall back to dashboard deployment and document the URL.

Note: The --prod flag deploys directly to production domain (not preview).
  </action>
  <verify>
```bash
cd /Users/manavhirey/Documents/Code/Tab
vercel ls 2>/dev/null | head -5
```
Vercel shows the deployment. Production URL is available.
  </verify>
  <done>
App deployed to Vercel production environment with environment variables configured.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete Phase 1 Foundation:
- Next.js 16 project with TypeScript and Tailwind v4
- shadcn/ui components (Button, Card, Input, Dialog)
- Supabase client utilities and auth middleware
- Mobile layout shell with header and bottom navigation
- Production deployment to Vercel
  </what-built>
  <how-to-verify>
1. Open the production URL in a mobile browser (or use Chrome DevTools mobile view)
2. Verify you see the Tab header at the top
3. Verify you see the bottom navigation with 4 items (Home, IOUs, Subs, Stats)
4. Verify the Dashboard page shows 3 placeholder cards (Monthly Burn Rate, IOU Balance, Active Subscriptions)
5. Tap between navigation items - verify the active state changes (highlighted icon/text)
6. Scroll content (if tall enough) - verify header stays fixed at top, nav at bottom
7. Verify no console errors in browser developer tools

Expected: Mobile-first app shell displays correctly with all navigation working.
  </how-to-verify>
  <resume-signal>Type "approved" if the mobile layout looks correct, or describe any visual issues</resume-signal>
</task>

</tasks>

<verification>
1. Production URL is accessible (not 404/500)
2. Mobile layout renders correctly (header, content, bottom nav)
3. No JavaScript errors in browser console
4. Environment variables are set in Vercel dashboard
5. Automatic deploys will work on future git pushes
</verification>

<success_criteria>
- App deployed to Vercel at production URL
- Environment variables configured for Supabase
- Mobile layout displays correctly in production
- User has verified the deployment visually
- Deployment pipeline established (push to main = auto deploy)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-04-SUMMARY.md`

Include in summary:
- Production URL
- Deployment timestamp
- Any issues encountered and resolutions
</output>
